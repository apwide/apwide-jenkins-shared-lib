plugins {
    id 'groovy'
}

group 'com.apwide.jenkins'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

sourceSets {
    main {
        groovy {
            srcDirs = ['src', 'vars']
        }
    }
    test {
        groovy {
            srcDirs = ['test']
        }
    }
}

ext {
    junitVersion = '4.12'
    spockVersion = '1.3-groovy-2.5'
    groovyVersion = '2.5.4'
    hudsonVersion = '3.3.0'
    httpBuilderVersion = '0.7.1'
    groovyCpsVersion = '1.28'

}

dependencies {
    implementation "org.codehaus.groovy:groovy-all:$groovyVersion"
    implementation "com.cloudbees:groovy-cps:$groovyCpsVersion"
    implementation("org.eclipse.hudson:hudson-core:$hudsonVersion") {
        exclude group:'org.eclipse.hudson', module:'hudson-remoting'
    }
    implementation "org.jenkins-ci.plugins:git:4.6.0@jar"
    testImplementation (
            "junit:junit:$junitVersion",
            "org.spockframework:spock-core:$spockVersion",
            "org.codehaus.groovy.modules.http-builder:http-builder:$httpBuilderVersion"
    )
}

repositories {
    mavenCentral()
    maven {
        url "https://repo.jenkins-ci.org/public/"
    }
}
